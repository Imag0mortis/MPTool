<div class="table_container shadow(1)">
    <p tuiTextfieldSize="m" class="filters">
    <span>Кампании (111)</span>
    <tui-input class="input" [tuiTextfieldCleaner]="true" [(ngModel)]="search"
        tuiTextfieldIconLeft="tuiIconSearchLarge">
        Поиск
    </tui-input>
    &nbsp;
    <button tuiButton type="button" size="m" iconRight="tuiIconRefresh" appearance="outline"
        class="tui-space_right-3 tui-space_bottom-3 shadow(1)">
        Загрузить из WB
    </button>
    <!-- <tui-hosted-dropdown [content]="dropdown">
        <button
            tuiButton
            size="m"
            [iconRight]="arrow"
        >
            Columns
        </button>
        <ng-template #dropdown>
            <tui-reorder
                class="columns"
                [enabled]="enabled"
                [(items)]="initial"
                (enabledChange)="onEnabled($event)"
            ></tui-reorder>
        </ng-template>
    </tui-hosted-dropdown> -->
    </p>
    <tui-loader [overlay]="true" [showLoader]="!!(loading$ | async)">
        <table *ngIf="data$ | async as data" tuiTable class="table" [columns]="columns"
            [direction]="(direction$ | async) || 1" [tuiSortBy]="sorter$ | async"
            (tuiSortByChange)="sorter$.next($event!)" (directionChange)="direction$.next($event)">
            <thead>
                <tr tuiThGroup>
                    <th *tuiHead="'name'" tuiTh tuiSortable>
                        Name
                    </th>
                    <th *tuiHead="'dob'" tuiTh tuiSortable>
                        Date of Birth
                    </th>
                    <th *tuiHead="'age'" tuiTh tuiSortable>
                        Age
                    </th>
                </tr>
            </thead>
            <tbody tuiTbody [data]="data">
                <tr *tuiRow="let item of data" tuiTr>
                    <td *tuiCell="'name'" tuiTd [class.match]="isMatch(item.name)">
                        {{ item.name }}
                    </td>
                    <td *tuiCell="'dob'" tuiTd [class.match]="isMatch(item.dob)">
                        {{ item.dob }}
                    </td>
                    <td *tuiCell="'age'" tuiTd [class.match]="isMatch(getAge(item))">
                        {{ getAge(item) }}
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td [colSpan]="columns.length">
                        <tui-table-pagination class="tui-space_top-2" [total]="(total$ | async) || 0"
                            (pageChange)="onPage($event)" (sizeChange)="onSize($event)"></tui-table-pagination>
                    </td>
                </tr>
            </tfoot>
        </table>
    </tui-loader>
</div>