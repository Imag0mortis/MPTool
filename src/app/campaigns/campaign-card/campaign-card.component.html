<tui-loader [overlay]="true" [showLoader]="!data">
    <div *ngIf="data" class="card_container shadow(1)">
        <div class="card_header">
            <h3>Кампании / {{data.campaignName}}</h3>
            <div class="navigation-back" (click)="appService.goCampaigns()">
                <tui-marker-icon mode="success" size="xs" src="tuiIconArrowLeftLarge" class="tui-space_right-2">
                </tui-marker-icon>
                <span>Назад</span>
            </div>
        </div>
        <div class="card-row">
            <div class="card-row-col1">
                <form class="b-form" [formGroup]="firstForm">
                    <div class="tui-form__row tui-form__row_multi-fields">
                        <div class="tui-form__multi-field">
                            <tui-input formControlName="account">
                                Аккаунт
                                <input tuiTextfield type="text" />
                            </tui-input>
                        </div>
                        <div class="tui-form__multi-field">
                            <tui-input formControlName="id">
                                ID Кампании
                                <input tuiTextfield type="number" />
                            </tui-input>
                        </div>

                        <div class="tui-form__multi-field">
                            <tui-input formControlName="budget">
                                Бюджет
                                <input tuiTextfield type="number" />
                            </tui-input>
                        </div>
                        <div class="tui-form__multi-field">
                            <tui-input formControlName="category">
                                Категория
                                <input tuiTextfield type="text" />
                            </tui-input>
                        </div>
                        <div class="tui-form__multi-field">
                            <tui-input formControlName="delivery">
                                Срок доставки
                                <input tuiTextfield type="text" />
                            </tui-input>
                        </div>
                    </div>
                </form>
            </div>
            <div class="card-row-col2">
                <!-- тут наверное необходим PUT на активацию этих туглов -->

                <svg style="cursor: pointer" (click)="data.isEnabled = !data.isEnabled" width="30" height="16"
                    viewBox="0 0 30 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M21.8182 0H8.18182C3.66818 0 0 3.58667 0 8C0 12.4133 3.66818 16 8.18182 16H21.8182C26.3318 16 30 12.4133 30 8C30 3.58667 26.3318 0 21.8182 0ZM21.8182 13.3333H8.18182C5.16818 13.3333 2.72727 10.9467 2.72727 8C2.72727 5.05333 5.16818 2.66667 8.18182 2.66667H21.8182C24.8318 2.66667 27.2727 5.05333 27.2727 8C27.2727 10.9467 24.8318 13.3333 21.8182 13.3333Z"
                        fill="#2C7A77" />
                    <circle *ngIf="!data.isEnabled" cx="8" cy="8" r="4" fill="#2C7A77" />
                    <circle *ngIf="data.isEnabled" cx="21" cy="8" r="4" fill="#2C7A77" />
                </svg>
                <span>&nbsp;Вкл/Выкл</span>
            </div>
        </div>
        <div class="card-info">
            <div class="card-info-header">
                <h3>{{data.mainKeyword}}</h3>
                <a><span>Обучающее видео</span></a>
            </div>
            <div class="card-info-main">
                <div class="card-info-main-row1">
                    <div *ngFor="let item of data.allTargetBids" class="b-form">
                        <div class="tui-form__row tui-form__row_multi-fields">
                            <div class="tui-form__multi-field">
                                <tui-input [(ngModel)]="item.targetPlace" tuiHintContent="Целевое место">
                                    Целевое место
                                    <input tuiTextfield type="number" />
                                </tui-input>
                            </div>
                            <div class="tui-form__multi-field">
                                <tui-input [(ngModel)]="item.targetBid" tuiHintContent="Максимальная ставка">
                                    Максимальная ставка
                                    <input tuiTextfield type="number" />
                                </tui-input>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-info-main-row2">
                    <div style="display: flex; align-items: center;">
                        <h3>Выходные ставки для других мест</h3>
                        <tui-tooltip direction="bottom-right" [content]="'some info..'"></tui-tooltip>
                    </div>
                    <table class="bid_table">
                        <tr>
                            <td>1-е 457 (+1)</td>
                            <td>1-е 457 (+1)</td>
                        </tr>
                        <tr>
                            <td>1-е 457 (+1)</td>
                            <td>1-е 457 (+1)</td>
                        </tr>
                    </table>

                </div>
            </div>
            <div class="card_toggle-container">
                <svg style="cursor: pointer" (click)="data.isUseOptimizer = !data.isUseOptimizer" width="30" height="16"
                    viewBox="0 0 30 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M21.8182 0H8.18182C3.66818 0 0 3.58667 0 8C0 12.4133 3.66818 16 8.18182 16H21.8182C26.3318 16 30 12.4133 30 8C30 3.58667 26.3318 0 21.8182 0ZM21.8182 13.3333H8.18182C5.16818 13.3333 2.72727 10.9467 2.72727 8C2.72727 5.05333 5.16818 2.66667 8.18182 2.66667H21.8182C24.8318 2.66667 27.2727 5.05333 27.2727 8C27.2727 10.9467 24.8318 13.3333 21.8182 13.3333Z"
                        fill="#2C7A77" />
                    <circle *ngIf="!data.isUseOptimizer" cx="8" cy="8" r="4" fill="#2C7A77" />
                    <circle *ngIf="data.isUseOptimizer" cx="21" cy="8" r="4" fill="#2C7A77" />
                </svg>
                <span>&nbsp;Включить реальные ставки</span>
            </div>
            <div class="card_toggle-container">
                <tui-toggle ngModel="onnOff" [showIcons]="true"></tui-toggle>
                <span>&nbsp;Использовать проверенные слова</span>
            </div>
        </div>
        <div class="tui-form__buttons" style="padding: 0.5rem 2rem; margin-top: 0">
            <button (click)="save()" tuiButton size="l" class="tui-form__button">
                Сохранить
            </button>
        </div>
        <table tuiTable class="table" [columns]="columns">
            <thead>
                <tr tuiThGroup>
                    <th tuiTh>Товар</th>
                    <th tuiTh>Просмотров</th>
                    <th tuiTh>Пользователей</th>
                    <th tuiTh>Просмотров на 1 пользователя</th>
                    <th tuiTh>Кликов</th>
                    <th tuiTh>% Клика</th>
                    <th tuiTh>За клик</th>
                    <th tuiTh>В корзине</th>
                    <th tuiTh>Заказов</th>
                    <th tuiTh>Сумма</th>
                    <th tuiTh>Конверсия</th>
                </tr>
            </thead>
            <tbody tuiTbody [data]="mockData">
                <tr *tuiRow="let item of mockData; index as i" tuiTr>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.product }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.views }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.users }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.viewsByOne }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.clicks }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.clickPer }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.byClick }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.inBin }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.orders }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.sum }}
                    </td>
                    <td *tuiCell="'article'" tuiTd>
                        {{ item.conversion }}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>


</tui-loader>